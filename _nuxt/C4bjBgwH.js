import{r as e,x as u,S as c,T as A,U as W,g as T}from"./DCx7jsyN.js";const{initData:f,initDataUnsafe:d,version:v,platform:S,isVersionAtLeast:l,sendData:B,close:w}=Telegram.WebApp,m=e(!1),M=(...t)=>{Telegram.WebApp.ready(...t),m.value=!0},g=t=>Telegram.WebApp.platform===t,b=g("unknown"),I={ClosingConfirmation:"6.2",CloudStorage:"6.9",RequestWriteAccess:"6.9",RequestContact:"6.9",SettingsButton:"7.0",BiometricManager:"7.2",DisableVerticalSwipes:"7.7"},D=t=>l(I[t]),C=!b&&Telegram.WebApp.initData==="";function p(){return{initData:f,initDataUnsafe:d,version:v,platform:S,isVersionAtLeast:l,onEvent:(t,a,i={manual:!1})=>{const{manual:r}=i,n=()=>{Telegram.WebApp.onEvent(t,a)},o=()=>{Telegram.WebApp.offEvent(t,a)};return r?n():(u(n),c(o)),{off:o}},sendData:B,ready:M,close:w,isReady:A(m),isPlatform:g,isPlatformUnknown:b,isFeatureSupported:D,canSendData:C}}e(Telegram.WebApp.BackButton.isVisible);Telegram.WebApp.BiometricManager;e(Telegram.WebApp.BiometricManager.isInited);e(Telegram.WebApp.BiometricManager.isBiometricAvailable);e(Telegram.WebApp.BiometricManager.biometricType);e(Telegram.WebApp.BiometricManager.isAccessRequested);e(Telegram.WebApp.BiometricManager.isAccessGranted);e(Telegram.WebApp.BiometricManager.isAccessGranted);e(Telegram.WebApp.BiometricManager.deviceId);Telegram.WebApp;e(Telegram.WebApp.isClosingConfirmationEnabled);const s=Telegram.WebApp.CloudStorage;function P(t,a){return new Promise((i,r)=>{s.setItem(t,a,(n,o)=>{n&&r(n),i(o)})})}function y(t){return new Promise((a,i)=>{s.getItem(t,(r,n)=>{r&&i(r),a(n)})})}function V(t){return new Promise((a,i)=>{s.getItems(t,(r,n)=>{r&&i(r),a(n)})})}function U(t){return new Promise((a,i)=>{s.removeItem(t,(r,n)=>{r&&i(r),a(n)})})}function h(t){return new Promise((a,i)=>{s.removeItems(t,(r,n)=>{r&&i(r),a(n)})})}function x(){return new Promise((t,a)=>{s.getKeys((i,r)=>{i&&a(i),t(r)})})}function E(){return{setStorageItem:P,getStorageItem:y,getStorageItems:V,removeStorageItem:U,removeStorageItems:h,getStorageKeys:x}}Telegram.WebApp.HapticFeedback;e(Telegram.WebApp.MainButton.text);e(Telegram.WebApp.MainButton.color);e(Telegram.WebApp.MainButton.textColor);e(Telegram.WebApp.MainButton.isVisible);e(Telegram.WebApp.MainButton.isActive);e(Telegram.WebApp.MainButton.isProgressVisible);Telegram.WebApp;Telegram.WebApp;Telegram.WebApp;Telegram.WebApp;p();e(Telegram.WebApp.SettingsButton.isVisible);e(Telegram.WebApp.colorScheme);e(Telegram.WebApp.themeParams);e(Telegram.WebApp.headerColor);e(Telegram.WebApp.backgroundColor);e(Telegram.WebApp.isExpanded);e(Telegram.WebApp.viewportHeight);e(Telegram.WebApp.viewportStableHeight);e(Telegram.WebApp.isVerticalSwipesEnabled);const H=W("tgWebApp",()=>{const t=e(null),a=e(null),i=e(null);return T(a,()=>{a&&(i.value=a.value.user.first_name)}),{webAppData:t,dataUnsafe:a,init:()=>{t.value=p(),window.Telegram.WebApp.CloudStorage.getItem("initData",(n,o)=>{typeof o=="string"&&o===""?(console.log("data is saved in storage!"),a.value=p().initDataUnsafe,E().setStorageItem("initData",JSON.stringify(a.value))):(console.log("data exist in storage"),a.value=JSON.parse(o))})},first_name:i}});export{H as u};
